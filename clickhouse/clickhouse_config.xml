<clickhouse>
    <!-- Instructs ClickHouse to listen on all network interfaces (both IPv4 and IPv6) -->
    <listen_host>0.0.0.0</listen_host>

    <!-- The port for the native TCP protocol, used by clients like the CLI and for migrations -->
    <tcp_port>9000</tcp_port>

    <!-- The port for the HTTP interface, used by LangFuse for runtime queries -->
    <http_port>8123</http_port>

    <zookeeper>
        <node>
            <host>clickhouse-keeper</host>
            <port>9181</port>
        </node>
    </zookeeper>

    <!-- This section provides the default user profile required for startup -->
    <profiles>
        <default>
            <!-- Maximum memory usage for a single query. -->
            <max_memory_usage>10000000000</max_memory_usage>
            <!-- Use the query cache to speed up repeated queries. -->
            <use_uncompressed_cache>0</use_uncompressed_cache>
            <!-- Load balancing strategy for distributed queries. -->
            <load_balancing>random</load_balancing>
        </default>
    </profiles>
</clickhouse>